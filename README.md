# Новостное приложение "Big Brother News"

Автор: Парахин Николай, БПИ 212

## Описание

Мною было сделано приложение-агрегатор новостей про программирование в сфере CyberSec.

Это вторая версия приложения, которая включает в себя дополнительный функционал. Также код переработан с использованием новых практик.
![](documentation/added_likes.png)
![](documentation/black_added_likes.png)
![](documentation/details_likes.png)
![](documentation/likes.png)

По пунктам:
|Пункт|Статус|
|--|--|
|Описание|Есть|
|Скриншоты|Есть|
|APK|Есть|
|Работает на Android|Есть|
|Реализован механизм сохранения избранных новостных статей (кнопку “нравится” для новости)”|Есть|
|Реализован новый экран с отображением любимых статей|Есть|
|Нет ошибок и предупреждений (warning)|Есть|
|Код отформатирован|Есть|
|Использование одного из общепринятых подходов для реализации управления состоянием UI (BLoC)|Есть|
|Разделение проекта на слои и декомпозиция логики (желательно Data / Domain / UI и без бизнес-логики в UI)|Есть|
|Написание Unit-тестов для ключевых функций в приложении|Есть|
|Реализовать DI с использованием одного из общепринятых подходов |Нет|
|Интеграционные тесты на ключевые методы|Есть|
|Виджет тесты на ключевые виджеты|Есть|

#### Про лайки

После лайка новость помещается в SharedPreferences по новому ключу.
Для записи в базу данных используется новый модуль -- LikesModule, который относится к Data Layer.
Для перехода на экран с лайкнутыми новостями необходимо нажать сердечко на Tab на главном экране.

#### Про BLoC

Теперь, используя [BLoC](lib/src/newsapp/bloc/), реализовано управление состоянием UI. При этом, теперь это является отдельным слоем декомпозии/ логики -- Domain.
NewsBloc используется для получения новостей через WebModule, который относится к Data Layer.
Аналогично, LikesBloc используется для получния избранных новостей через LikesModule, который также относится к Data Layer.

#### Про Data/Domain/UI

Все прилоежение можно разделить на следующие уровни по папкам и файлам:

- Data: [likes_module.dart](lib/src/newsapp/likes_module.dart), [web_module.dart](lib/src/newsapp/web_module.dart), [News Model](lib/src/newsapp/model/)
- Domain: [BLoC](lib/src/newsapp/bloc/), [ThemeProvider](lib/src/newsapp/theme/theme_provider.dart)
- UI: [Widgets](lib/src/newsapp/widget/)

При этом, UI **не обращается** к любым данным напрямую, бизнес логика реализована отдельно.

#### Про тесты

В каждом блоке тестов (Unit тесты, Виджет тесты, Интеграционные тесты) реализовано как минимум два теста.

- [Unit Тесты](./test/unit_test.dart): Тестирование WebModule и Toggle Theme;
- [Widget Тесты](./test/widget_test.dart): Тестирование ColumtItem, DetailsScreen, FavoriteScreen;
- [Интеграционные Тесты](./integration_test/app_test.dart): Тестирование функционирования кнопки лайк, проверка DetailsScreen;

#### Про UX/UI:

UI я делал опираясь на цветовую гамму Windows95. Также референс на данную ОС можно заметить при ошибке загрузки изображения: загружается иконка со старым ПК c Windos95 :)

#### Нюансы реализации

Как работает пангинация: после просмотра всех новостей с первой страницы (скролла до конца), загружается следующая страница и происходит rebuild скролла с новостями.

Единственная кнопка снизу позволяет вернуться к первой новости на текущей странице новостей.

Верхний toggle элемент в AppBar позволяет переключить цвет темы прямо во время работы приложения.

Также есть кэширование фотографий, чтобы Image не загружал из интернета картинки при повторном скролле уже просмотренной статьи.

Интернализация включает в себя два языка: русский и английский.

Также есть иконка приложения :)
